<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
>
  <h:head>
    <title>#{utilisateurBean.modeEdition ? 'Modifier' : 'Ajouter'} un Utilisateur - Indonésie</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts - Lobster -->
    <link href="https://fonts.googleapis.com/css2?family=Lobster&amp;display=swap" rel="stylesheet"/>
    
    <style>
      body {
        font-family: 'Lobster', cursive;
      }
      .indonesia-gradient {
        background: linear-gradient(180deg, #FF0000 0%, #FF0000 60%, #FFFFFF 40%, #FFFFFF 100%);
      }
    </style>
  </h:head>
  
  <h:body class="min-h-screen bg-gray-50">
    <!-- Header avec drapeau indonésien -->
    <div class="indonesia-gradient h-20 flex items-center justify-center shadow-md">
      <div class="text-center">
        <h1 class="text-2xl font-bold text-white drop-shadow-lg">
          #{utilisateurBean.modeEdition ? 'Modifier' : 'Ajouter'} un Utilisateur
        </h1>
        <p class="text-gray-600 text-xs mt-1">Créez votre compte pour explorer l'Indonésie</p>
      </div>
    </div>

    <!-- Conteneur principal -->
    <div class="container mx-auto px-4 py-8 max-w-2xl">
      
      <!-- Messages globaux -->
      <div class="mb-6">
        <h:messages globalOnly="true" 
                    errorClass="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-4 text-sm"
                    infoClass="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-4 text-sm"/>
      </div>

      <!-- Carte du formulaire -->
      <div class="bg-white rounded-lg shadow-lg p-8">
        
        <!-- Titre avec drapeau -->
        <div class="flex items-center mb-6 pb-4 border-b border-gray-200">
          <img src="https://upload.wikimedia.org/wikipedia/commons/9/9f/Flag_of_Indonesia.svg" 
               alt="Drapeau Indonésie" 
               class="w-10 h-7 mr-3 border border-gray-300 rounded shadow-sm"/>
          <h2 class="text-xl font-semibold text-gray-800">Informations utilisateur</h2>
        </div>

        <h:form>
          <div class="space-y-5">
            
            <!-- Nom d'utilisateur -->
            <div>
              <h:outputLabel for="username" value="Nom d'utilisateur" 
                           class="block text-sm font-medium text-gray-700 mb-2"/>
              <h:inputText id="username"
                         value="#{utilisateurBean.username}"
                         required="true"
                         requiredMessage="Le nom d'utilisateur est obligatoire"
                         class="w-full px-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition"
                         placeholder="Ex: johndoe"/>
              <h:message for="username" class="text-red-600 text-xs mt-1 block"/>
            </div>

            <!-- Email -->
            <div>
              <h:outputLabel for="email" value="Adresse email" 
                           class="block text-sm font-medium text-gray-700 mb-2"/>
              <h:inputText id="email"
                         value="#{utilisateurBean.email}"
                         required="true"
                         requiredMessage="L'email est obligatoire"
                         class="w-full px-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition"
                         placeholder="exemple@email.com"/>
              <h:message for="email" class="text-red-600 text-xs mt-1 block"/>
            </div>

            <!-- Mot de passe -->
            <div>
              <h:outputLabel for="password" value="Mot de passe" 
                           class="block text-sm font-medium text-gray-700 mb-2"/>
              <h:inputSecret id="password"
                           value="#{utilisateurBean.password}"
                           required="true"
                           requiredMessage="Le mot de passe est obligatoire"
                           class="w-full px-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition"
                           placeholder="Minimum 6 caractères"/>
              <h:message for="password" class="text-red-600 text-xs mt-1 block"/>
              <p class="text-xs text-gray-500 mt-1">Au moins 6 caractères requis</p>
            </div>

            <!-- Confirmation mot de passe -->
            <div>
              <h:outputLabel for="confirmPassword" value="Confirmer le mot de passe" 
                           class="block text-sm font-medium text-gray-700 mb-2"/>
              <h:inputSecret id="confirmPassword"
                           value="#{utilisateurBean.confirmPassword}"
                           required="true"
                           requiredMessage="La confirmation du mot de passe est obligatoire"
                           class="w-full px-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition"
                           placeholder="Retapez votre mot de passe"/>
              <h:message for="confirmPassword" class="text-red-600 text-xs mt-1 block"/>
            </div>

            <!-- Description -->
            <div>
              <h:outputLabel for="description" value="Description (optionnel)" 
                           class="block text-sm font-medium text-gray-700 mb-2"/>
              <h:inputTextarea id="description"
                             value="#{utilisateurBean.description}"
                             rows="3"
                             class="w-full px-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition resize-none"
                             placeholder="Quelques mots sur vous..."/>
            </div>

            <!-- Boutons -->
            <div class="flex gap-3 pt-4">
              <h:commandButton value="#{utilisateurBean.modeEdition ? 'Mettre à jour' : 'Créer le compte'}"
                             action="#{utilisateurBean.ajouterUtilisateur}"
                             class="flex-1 bg-red-600 hover:bg-red-700 text-white font-medium py-3 px-6 rounded-lg transition duration-200 shadow-md hover:shadow-lg text-sm"/>
              
              <h:commandButton value="Annuler" 
                             action="#{navigationController.voirAccueil}"
                             immediate="true"
                             class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-3 px-6 rounded-lg transition duration-200 text-sm"/>
            </div>
            
          </div>
        </h:form>
      </div>

      <!-- Information de sécurité -->
      <div class="mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4">
        <div class="flex items-start">
          <svg class="w-5 h-5 text-blue-600 mr-2 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
          </svg>
          <div>
            <h3 class="text-sm font-semibold text-blue-800 mb-1">Sécurité</h3>
            <p class="text-xs text-blue-700">Votre mot de passe sera chiffré et stocké en toute sécurité. Nous ne le partagerons jamais.</p>
          </div>
        </div>
      </div>
      
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6 mt-12">
      <div class="container mx-auto px-4 text-center">
        <p class="text-sm">Rejoignez la communauté des explorateurs d'Indonésie</p>
        <p class="text-xs text-gray-400 mt-2">Plus de 17 000 îles à découvrir</p>
      </div>
    </footer>

  </h:body>
</html>
